# GeoEPIC Yield Calibration Tutorial

This tutorial outlines the steps to perform yield calibration for multiple sites using GeoEPIC, leveraging the setup from regional simulations. Calibration fine-tunes model parameters to better match simulated outputs (like crop yield) with observed data across a region.

1.  **Set Up the Workspace:**
    Before starting calibration, you must have a properly organized workspace containing all necessary input files (Site, Soil, Weather, Operations) for the multiple sites in your calibration region. Follow the procedures detailed in the **[Regional Simulation Tutorial](link-to-regional-simulation-tutorial)**, specifically Steps 1-3 (Set Up Environment, Prepare Input Files, Set Up Workspace). This ensures you have:
    *   A configured `geoEpic` environment.
    *   All required `.SIT`, `.SOL`, `.DLY`, and `.OPC` files for each site.
    *   A well-structured workspace directory (e.g., `workspace/`) containing these inputs and the EPIC model executable.

2.  **Perform Calibration:**
    The core calibration process involves selecting parameters to adjust (e.g., crop parameters in `.OPC` or site/soil parameters), defining an objective function (how to measure the match between simulated and observed yields), and using a calibration algorithm or workflow to find optimal parameter values.
    For detailed, step-by-step instructions on:
    *   Preparing observed yield data.
    *   Selecting appropriate parameters for calibration.
    *   Configuring and running a calibration workflow or tool (potentially using libraries like `spotpy` or custom `geoEpic` calibration utilities).
    *   Evaluating calibration performance.
    Please refer to the dedicated **[Calibration Procedure Guide](link-to-calibration-procedure-guide)**. This guide provides the specific commands, scripts, and methodologies required to execute the yield calibration.

3.  **Access Calibrated Parameters:**
    Once the calibration process (as described in the **[Calibration Procedure Guide](link-to-calibration-procedure-guide)**) is complete, the optimized parameter values will typically be stored in output files or potentially within Python objects generated by the calibration script.
    *   The specific format and location depend on the calibration tool or script used. It might be a CSV file, a JSON file, or directly printed to the console. Example conceptual access (actual implementation depends on the calibration tool):
      ``
      # Example: Assuming calibration results are saved to a file
      import pandas as pd

      try:
          # Load parameters maybe saved by the calibration tool
          calibrated_params = pd.read_csv('./workspace/calibration_outputs/best_parameters.csv')
          print("Calibrated Parameters:")
          print(calibrated_params)

          # Or access parameters if stored in a Python object (conceptual)
          # best_run_parameters = calibration_result.best_parameters
          # print(best_run_parameters)

      except FileNotFoundError:
          print("Calibration output file not found. Check calibration process outputs.")
      except Exception as e:
          print(f"Error accessing calibration results: {e}")

      ``
    Refer back to the **[Calibration Procedure Guide](link-to-calibration-procedure-guide)** for specifics on where and how to retrieve the final calibrated parameter set generated by your chosen calibration method. These parameters can then be used for subsequent validated regional simulations.